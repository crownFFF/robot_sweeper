(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[283],{7283:function(e,t,n){"use strict";n.r(t),n.d(t,{Canvas:function(){return L},ReactThreeFiber:function(){return u.t},_roots:function(){return u.z},act:function(){return u.x},addAfterEffect:function(){return u.p},addEffect:function(){return u.o},addTail:function(){return u.q},advance:function(){return u.n},applyProps:function(){return u.k},buildGraph:function(){return u.y},context:function(){return u.g},createEvents:function(){return u.f},createPointerEvents:function(){return u.c},createPortal:function(){return u.h},createRoot:function(){return u.b},dispose:function(){return u.l},events:function(){return u.c},extend:function(){return u.e},flushGlobalEffects:function(){return u.s},flushSync:function(){return u.v},getRootState:function(){return u.w},invalidate:function(){return u.m},reconciler:function(){return u.j},render:function(){return u.r},unmountComponentAtNode:function(){return u.d},useFrame:function(){return u.F},useGraph:function(){return u.G},useInstanceHandle:function(){return u.A},useLoader:function(){return u.H},useStore:function(){return u.C},useThree:function(){return u.D}});var r,o,u=n(9285),i=n(2265),c=n(1448),l=n(9271),s=n.n(l),a=Object.defineProperty,f=Object.defineProperties,d=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w=(e,t)=>{for(var n in t||(t={}))h.call(t,n)&&m(e,n,t[n]);if(v)for(var n of v(t))p.call(t,n)&&m(e,n,t[n]);return e},b=(e,t)=>f(e,d(t));function y(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}"undefined"!=typeof window&&((null==(r=window.document)?void 0:r.createElement)||(null==(o=window.navigator)?void 0:o.product)==="ReactNative")?i.useLayoutEffect:i.useEffect;let E=console.error;console.error=function(){let e=[...arguments].join("");if((null==e?void 0:e.startsWith("Warning:"))&&e.includes("useContext")){console.error=E;return}return E.apply(this,arguments)};let g=y(i.createContext(null));class x extends i.Component{render(){return i.createElement(g.Provider,{value:this._reactInternals},this.props.children)}}var C=n(7437);n(9971),n(7975),n(6697);let j=["x","y","top","bottom","left","right","width","height"],z=(e,t)=>j.every(n=>e[n]===t[n]),O=i.forwardRef(function({children:e,fallback:t,resize:n,style:r,gl:o,events:l=u.c,eventSource:a,eventPrefix:f,shadows:d,linear:v,flat:h,legacy:p,orthographic:m,frameloop:E,dpr:j,performance:O,raycaster:L,camera:R,scene:P,onPointerMissed:S,onCreated:H,..._},k){i.useMemo(()=>(0,u.e)(c),[]);let T=function(){let e=function(){let e=function(){let e=i.useContext(g);if(null===e)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let t=i.useId();return i.useMemo(()=>{for(let n of[e,null==e?void 0:e.alternate]){if(!n)continue;let e=function e(t,n,r){if(!t)return;if(!0===r(t))return t;let o=n?t.return:t.child;for(;o;){let t=e(o,n,r);if(t)return t;o=n?null:o.sibling}}(n,!1,e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}});if(e)return e}},[e,t])}(),[t]=i.useState(()=>new Map);t.clear();let n=e;for(;n;){if(n.type&&"object"==typeof n.type){let e=void 0===n.type._context&&n.type.Provider===n.type?n.type:n.type._context;e&&e!==g&&!t.has(e)&&t.set(e,i.useContext(y(e)))}n=n.return}return t}();return i.useMemo(()=>Array.from(e.keys()).reduce((t,n)=>r=>i.createElement(t,null,i.createElement(n.Provider,b(w({},r),{value:e.get(n)}))),e=>i.createElement(x,w({},e))),[e])}(),[M,F]=function({debounce:e,scroll:t,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){var o;let u=n||"undefined"!=typeof window&&window.ResizeObserver,[c,l]=(0,i.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!u)return c.width=1280,c.height=800,[()=>{},c,()=>{}];let a=(0,i.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:c,orientationHandler:null}),f=e?"number"==typeof e?e:e.scroll:null,d=e?"number"==typeof e?e:e.resize:null,v=(0,i.useRef)(!1);(0,i.useEffect)(()=>(v.current=!0,()=>void(v.current=!1)));let[h,p,m]=(0,i.useMemo)(()=>{let e=()=>{if(!a.current.element)return;let{left:e,top:t,width:n,height:o,bottom:u,right:i,x:c,y:s}=a.current.element.getBoundingClientRect(),f={left:e,top:t,width:n,height:o,bottom:u,right:i,x:c,y:s};a.current.element instanceof HTMLElement&&r&&(f.height=a.current.element.offsetHeight,f.width=a.current.element.offsetWidth),Object.freeze(f),v.current&&!z(a.current.lastBounds,f)&&l(a.current.lastBounds=f)};return[e,d?s()(e,d):e,f?s()(e,f):e]},[l,r,f,d]);function w(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function b(){var e;a.current.element&&(a.current.resizeObserver=new u(p),null==(e=a.current.resizeObserver)||e.observe(a.current.element),t&&a.current.scrollContainers&&a.current.scrollContainers.forEach(e=>e.addEventListener("scroll",m,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}return o=!!t,(0,i.useEffect)(()=>{if(o)return window.addEventListener("scroll",m,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",m,!0)},[m,o]),(0,i.useEffect)(()=>(window.addEventListener("resize",p),()=>void window.removeEventListener("resize",p)),[p]),(0,i.useEffect)(()=>{w(),b()},[t,m,p]),(0,i.useEffect)(()=>w,[]),[e=>{e&&e!==a.current.element&&(w(),a.current.element=e,a.current.scrollContainers=function e(t){let n=[];if(!t||t===document.body)return n;let{overflow:r,overflowX:o,overflowY:u}=window.getComputedStyle(t);return[r,o,u].some(e=>"auto"===e||"scroll"===e)&&n.push(t),[...n,...e(t.parentElement)]}(e),b())},c,h]}({scroll:!0,debounce:{scroll:50,resize:0},...n}),B=i.useRef(null),I=i.useRef(null);i.useImperativeHandle(k,()=>B.current);let A=(0,u.u)(S),[D,G]=i.useState(!1),[N,W]=i.useState(!1);if(D)throw D;if(N)throw N;let q=i.useRef(null);(0,u.a)(()=>{let t=B.current;F.width>0&&F.height>0&&t&&(q.current||(q.current=(0,u.b)(t)),q.current.configure({gl:o,events:l,shadows:d,linear:v,flat:h,legacy:p,orthographic:m,frameloop:E,dpr:j,performance:O,raycaster:L,camera:R,scene:P,size:F,onPointerMissed:(...e)=>null==A.current?void 0:A.current(...e),onCreated:e=>{null==e.events.connect||e.events.connect(a?(0,u.i)(a)?a.current:a:I.current),f&&e.setEvents({compute:(e,t)=>{let n=e[f+"X"],r=e[f+"Y"];t.pointer.set(n/t.size.width*2-1,-(r/t.size.height*2)+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==H||H(e)}}),q.current.render((0,C.jsx)(T,{children:(0,C.jsx)(u.E,{set:W,children:(0,C.jsx)(i.Suspense,{fallback:(0,C.jsx)(u.B,{set:G}),children:e})})})))}),i.useEffect(()=>{let e=B.current;if(e)return()=>(0,u.d)(e)},[]);let X=a?"none":"auto";return(0,C.jsx)("div",{ref:I,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:X,...r},..._,children:(0,C.jsx)("div",{ref:M,style:{width:"100%",height:"100%"},children:(0,C.jsx)("canvas",{ref:B,style:{display:"block"},children:t})})})}),L=i.forwardRef(function(e,t){return(0,C.jsx)(x,{children:(0,C.jsx)(O,{...e,ref:t})})})},9271:function(e){function t(e,t,n){function r(){var s=Date.now()-c;s<t&&s>=0?o=setTimeout(r,t-s):(o=null,n||(l=e.apply(i,u),i=u=null))}null==t&&(t=100);var o,u,i,c,l,s=function(){i=this,u=arguments,c=Date.now();var s=n&&!o;return o||(o=setTimeout(r,t)),s&&(l=e.apply(i,u),i=u=null),l};return s.clear=function(){o&&(clearTimeout(o),o=null)},s.flush=function(){o&&(l=e.apply(i,u),i=u=null,clearTimeout(o),o=null)},s}t.debounce=t,e.exports=t}}]);